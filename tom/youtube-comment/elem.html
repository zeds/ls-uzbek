<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<style>
			.elem {
				display: grid;
				grid-template-columns: 50px 1fr 100px;
			}
			.elem img {
				width: 30px;
				height: 30px;
			}
		</style>
	</head>
	<body>
		<div id="lists"></div>
		<script>
			//è¦ªã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’å–å¾—
			const lists = document.getElementById("lists");

			const comments = [
				{
					id: "4f550e71-9705-42bb-85d9-5826e08780f7",
					name: "ä½è—¤",
					comment: "å„ªã—ã„äºŒåŒ¹ã«ç™’ã•ã‚Œã¾ã™",
					img: "https://hitdhvcvtukpqjnqxpbi.supabase.co/storage/v1/object/public/profile/2c858eab-a314-4da6-bfee-ded9040c9efa/c91a4985-6cc8-4101-8649-709f7ff012fa",
				},
				{
					id: "0a2c283a-0af7-4089-a9b2-4f2b850b4244",
					name: "é«˜æ©‹",
					comment: "ã„ã¤ã‚‚ä¸€ç·’ã«å±…ã‚‹äººãŒãã°ã«å±…ã‚Œã°å®‰å¿ƒã™ã‚‹ã‚“ã ã‚ˆã­ã‡ğŸ€",
					img: "https://hitdhvcvtukpqjnqxpbi.supabase.co/storage/v1/object/public/profile/2c858eab-a314-4da6-bfee-ded9040c9efa/c91a4985-6cc8-4101-8649-709f7ff012fa",
				},
				{
					id: "07ae9121-d2c1-4d1d-8034-57a57fc3bbdb",
					name: "å±±ç”°",
					comment: "ãã†ãªã®ã­ãƒ¼ğŸ˜¢ å®¶æ—ã ã­ğŸ˜­",
					img: "https://hitdhvcvtukpqjnqxpbi.supabase.co/storage/v1/object/public/profile/2c858eab-a314-4da6-bfee-ded9040c9efa/c91a4985-6cc8-4101-8649-709f7ff012fa",
				},
			];

			function showComments() {
				for (let i = 0; i < comments.length; i++) {
					//è¦ªã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’å–å¾—
					const lists = document.getElementById("lists");

					//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ ã¨ãªã‚‹divã‚’ä½œæˆ
					const elem = document.createElement("div");
					//ã‚¯ãƒ©ã‚¹åã‚’elemã«ã™ã‚‹
					elem.className = "elem";

					// <img src="https://hitdhvcvtukpqjnqxpbi.supabase.co/storage/v1/object/public/profile/2c858eab-a314-4da6-bfee-ded9040c9efa/c91a4985-6cc8-4101-8649-709f7ff012fa"/>
					const avatar = document.createElement("img");
					avatar.src = comments[i].img;

					//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã‚‹divã‚’ä½œæˆ
					const text = document.createElement("div");
					//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹ã‚’æ›¸ã
					text.innerHTML = comments[i].name + ": " + comments[i].comment;

					//å‰Šé™¤ãƒœã‚¿ãƒ³
					const deleteButton = document.createElement("button");
					//è¡¨ç¤ºå†…å®¹ã‚’æ›¸ã
					deleteButton.innerHTML = "å‰Šé™¤";

					//ç”»åƒ
					elem.appendChild(avatar);

					//ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’elemæ ã®å­ä¾›ã«è¿½åŠ 
					elem.appendChild(text);
					//å‰Šé™¤ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
					elem.appendChild(deleteButton);

					//å‰Šé™¤ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚
					deleteButton.addEventListener("click", function () {
						// alert(`${i}ç•ªç›®ãŒæŠ¼ã•ã‚Œã¾ã—ãŸ`);
						comments.splice(i, 1);

						const elemAll = document.querySelectorAll(".elem");
						for (let k = 0; k < elemAll.length; k++) {
							elemAll[k].remove();
						}

						showComments();
					});

					//elemæ ã‚’è¦ªã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã«è¿½åŠ 
					lists.appendChild(elem);
				}
			}

			showComments();
		</script>
	</body>
</html>
