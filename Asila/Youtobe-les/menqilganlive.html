<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Youtube in Live</title>
    <link rel="stylesheet" href="Youtobelive.css" />
  </head>
  <body>
    <header class="header_container">
      <div class="left_container">
        <div class="line">
          <img src="akar-icons--three-line-horizontal.svg" />
        </div>

        <img class="logo" src="YouTube_Logo_2017.svg.png" />
      </div>

      <div class="search_container">
        <input type="text" placeholder="Search" />

        <button class="search_button">
          <div class="tooltip-text">Search</div>
          <img src="search-outline.svg" />
        </button>

        <div class="mic_icon">
          <div class="tooltip-text">Search with your voice</div>
          <img src="baseline-mic (1).svg" />
        </div>
      </div>
      <div class="right_container">
        <div class="movie">
          <div class="tooltip-text">Create</div>
          <img src="movie.svg" />
        </div>

        <div class="bell">
          <div class="tooltip-text">Notifications</div>
          <img src="bell (1).svg" />
        </div>

        <img class="profile" src="Asila.jpg" />
      </div>
    </header>
    <main>
      <div class="article_container">
        <div class="article_video">
          <img src="xch.webp" />

          <div class="text_container">
            <div class="theme">
              <div class="title">
                O'rgatib bo'lmaydi, boshidan o'tkazishi kerak | Iqtibos podcast #15
              </div>
            </div>
            <div class="bottom_icon">
              <div class="description">
                <img src="xushnud.jpg" />
                <div class="user">
                  <div class="author">Aziz Rakhimov</div>
                  <div class="statistics">70,5 —Ç—ã—Å. –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</div>
                </div>
              </div>
              <div class="icon_family">
                <button class="subscribe_button">
                  <div class="tooltip-text"></div>
                  <img src="bell (1).svg" />
                </button>
                <div class="subscribe">
                  <select>
                    <option>Subscribe</option>
                    <option>Unsubscribe</option>
                  </select>
                </div>
                <div class="left_icon">
                  <div class="like">
                    <button class="like_button">
                      <div class="tooltip-text">Liked</div>
                      <img src="like.svg" />
                    </button>
                    <button class="dislike_button">
                      <div class="tooltip-text">Disliked</div>
                      <img src="dislike.svg" />
                    </button>
                  </div>
                  <button class="share_button">
                    <div class="tooltip-text">share</div>
                    <img src="share.svg" />
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="share"></div>
        <div class="download"></div>
      </div>
      <div class="articles"></div>
    </main>

    
    <!-- shu yerdan comment boshlangan -->
    <div class="conteinercomment">
      <input id="name" type="text" placeholder="Enter your name" />
      <input id="comment" type="text" placeholder="comment here" />
      <button id="commentButton">„Ç≥„É°„É≥„Éà</button>
      <button id="clearButton">clear</button>

      <div id="lists"></div>
    </div>

    <script>
      let editMode = false;
      let indexComment = 0;

      const comments = [
        {
          id: "4f550e71-9705-42bb-85d9-5826e08780f7",
          name: "‰ΩêËó§",
          // age: 49,
          comment: "ÂÑ™„Åó„ÅÑ‰∫åÂåπ„Å´Áôí„Åï„Çå„Åæ„Åô",
          cntHeart: 0,
          image_url:
            "https://yt3.ggpht.com/lzgaVr4cM4pQwFOucoi5pa4JZJJhBJ32PxqIJtISYXvy054v0JyWA7GoBtVDV5PvDq_1wJncWg=s68-c-k-c0x00ffffff-no-rj",
        },
        {
          id: "0a2c283a-0af7-4089-a9b2-4f2b850b4244",
          name: "È´òÊ©ã",
          // age: 25,
          comment: "„ÅÑ„Å§„ÇÇ‰∏ÄÁ∑í„Å´Â±Ö„Çã‰∫∫„Åå„Åù„Å∞„Å´Â±Ö„Çå„Å∞ÂÆâÂøÉ„Åô„Çã„Çì„Å†„Çà„Å≠„ÅáüçÄ",
          cntHeart: 0,
          image_url:
            "https://yt3.ggpht.com/lzgaVr4cM4pQwFOucoi5pa4JZJJhBJ32PxqIJtISYXvy054v0JyWA7GoBtVDV5PvDq_1wJncWg=s68-c-k-c0x00ffffff-no-rj",
        },
        {
          id: "07ae9121-d2c1-4d1d-8034-57a57fc3bbdb",
          name: "Â±±Áî∞",
          // age: 37,
          comment: "„Åù„ÅÜ„Å™„ÅÆ„Å≠„Éºüò¢ ÂÆ∂Êóè„Å†„Å≠üò≠",
          cntHeart: 0,
          image_url:
            "https://yt3.ggpht.com/lzgaVr4cM4pQwFOucoi5pa4JZJJhBJ32PxqIJtISYXvy054v0JyWA7GoBtVDV5PvDq_1wJncWg=s68-c-k-c0x00ffffff-no-rj",
        },
      ];

      // „Ç≥„É°„É≥„Éà„Éú„Çø„É≥
      document
        .getElementById("commentButton")
        .addEventListener("click", function () {
          let parent = document.getElementById("lists");
          // input„ÅÆÂÄ§„ÇíÂèñÂæó
          // „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê { name: xxxx, comment: xxx}
          // comments„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÇíËøΩÂä†
          let name = document.getElementById("name").value;
          let comment = document.getElementById("comment").value;

          if (editMode) {
            // Á∑®ÈõÜ„ÅÆÊôÇ
            comments[indexComment].name = name;
            comments[indexComment].comment = comment;
            editMode = false;
            document.getElementById("commentButton").innerHTML = "„Ç≥„É°„É≥„Éà";
          } else {
            // ËøΩÂä†„ÅÆÊôÇ
            comments.unshift(obj);
          }

          // ‰ªäË°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã„Ç≥„É°„É≥„Éà„ÇíÂÖ®„Å¶Ê∂à„Åô
          clearElements();

          // comments„ÇíË°®Á§∫
          showComments();
        });

      document
        .getElementById("clearButton")
        .addEventListener("click", function () {
          clearElements();
          comments.splice(0, comments.length);
        });

      function showComments() {
        let parent = document.getElementById("lists");

        // comments„ÇíË°®Á§∫„Åó„Åü„ÅÑ
        for (let i = 0; i < comments.length; i++) {
          let elem = document.createElement("div");
          elem.className = "elem";

          let left = document.createElement("div");
          left.className = "left";

          let img = document.createElement("img");
          img.src = comments[i].image_url;
          img.width = 40;
          img.height = 40;
          left.appendChild(img);
          // elem.appendChild(img);

          // ‰ΩêËó§ 49Ê≠≥
          let comment = document.createElement("div");
          comment.innerHTML =
            comments[i].name +
            " " +
            // comments[i].age +
            // "Ê≠≥ " +
            comments[i].comment;
          left.appendChild(comment);

          elem.appendChild(left);

          let right = document.createElement("div");

          // „Éè„Éº„Éà„Éú„Çø„É≥ËøΩÂä†
          let heartButton = document.createElement("button");
          if (comments[i].cntHeart !== 0) {
            heartButton.innerHTML = "‚ô°";
          } else {
            heartButton.innerHTML = "‚ù§";
          }
          // heartButton.innerHTML = "‚ô°";
          heartButton.addEventListener("click", function () {
            comments[i].cntHeart++;
            clearElements();
            showComments();
          });

          // Á∑®ÈõÜ„Éú„Çø„É≥
          let editButton = document.createElement("button");
          editButton.innerHTML = "Á∑®ÈõÜ";
          editButton.addEventListener("click", function () {
            editMode = true;
            indexComment = i;
            document.getElementById("name").value = comments[i].name;
            document.getElementById("comment").value = comments[i].comment;
            document.getElementById("commentButton").innerHTML = "Á∑®ÈõÜÂÆå‰∫Ü";
            // comments[i].name = "Èà¥Êú®";
            // clearElements();
            // showComments();
          });

          // ÂâäÈô§„Éú„Çø„É≥
          let deleteButton = document.createElement("button");
          deleteButton.innerHTML = "ÂâäÈô§";
          deleteButton.addEventListener("click", function () {
            comments.splice(i, 1);
            clearElements();
            showComments();
          });

          right.appendChild(heartButton);
          right.appendChild(editButton);
          right.appendChild(deleteButton);
          elem.appendChild(right);

          parent.appendChild(elem);
        }
      }

      function clearElements() {
        const all = document.querySelectorAll(".elem");

        for (let i = 0; i < all.length; i++) {
          all[i].remove();
        }
      }

      // comments„ÇíË°®Á§∫
      showComments();
    </script>
  </body>
</html>
